"0","prison <- foreach(i = 1979:2016, .combine = 'rbind') %dopar% {"
"0","  library(rvest)"
"0","  library(dplyr)"
"0","  readUrl <- function(url) {"
"0","    out <- tryCatch("
"0","        {"
"0","            read_html(paste(url, sep="""")) %>% html_element(xpath='//*[(@id = ""csvLink"")]') %>% html_attr(""href"")"
"0","        },"
"0","        error=function(cond) {"
"0","            return(NA)"
"0","        },"
"0","        warning=function(cond) {"
"0","            return(NA)"
"0","        },"
"0","        finally={"
"0","        }"
"0","    )    "
"0","    return(out)"
"0","}"
"0","  y=readUrl(paste('https://www.fpds.gov/ezsearch/fpdsportal?indexName=awardfull&templateName=1.5.3&s=FPDS.GOV%2525252525252525252525252525252525252525252525252525252525252BtemplateName1.5.2%2525252525252525252525252525252525252525252525252525252525252BindexNameawardfull&q=CONTRACTING_AGENCY_NAME%3A%22FEDERAL+PRISON+SYSTEM%22+PRODUCT_OR_SERVICE_CODE%3A%22Q201%22+CONTRACT_FISCAL_YEAR%3A%22',as.character(i),'%22&x=0&y=0',sep=""""))"
"0","  if (is.na(y)==FALSE) { year_x <- read.csv(paste(""https://www.fpds.gov/ezsearch/fpdsportal"",y, sep=""""))"
"0","  year_name <- paste(""year"",i, sep = """")"
"0","  assign(year_name,year_x) }"
"0","}"
